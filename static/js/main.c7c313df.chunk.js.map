{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["initialState","isFetching","error","tipo","marcas","marca","modelos","modelo","anos","valor","fetchData","a","endpoint","fetch","response","ok","message","status","Error","json","App","useState","setState","className","name","onChange","e","target","value","state","getMarcas","then","catch","length","getModelos","map","nome","codigo","getAnos","getValor","Object","keys","JSON","stringify","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c7c313df.chunk.js","sourcesContent":["import { useState } from 'react'\nimport './App.css'\n\nconst initialState = {\n  isFetching: false,\n  error: '',\n  tipo: '',\n  marcas: [],\n  marca: '',\n  modelos: [],\n  modelo: '',\n  anos: [],\n  valor: {}\n}\n\nconst fetchData = async ({ endpoint }) => {\n  const apiUrl = 'https://parallelum.com.br/fipe/api/v1'\n  const response = await fetch(`${apiUrl}/${endpoint}`, {\n    'Content-Type': 'application/json'\n  })\n\n  if (!response.ok) {\n    const message = `An error has occured: ${response.status}`\n    throw new Error(message)\n  }\n\n  const json = await response.json()\n  return json\n}\n\nfunction App () {\n  const [\n    { isFetching, error, tipo, marcas, marca, modelos, modelo, anos, valor },\n    setState\n  ] = useState(initialState)\n\n  const getMarcas = (value) => {\n    return fetchData({\n      endpoint: `${value}/marcas`\n    })\n  }\n\n  const getModelos = (value) => {\n    return fetchData({\n      endpoint: `${tipo}/marcas/${value}/modelos`\n    })\n  }\n\n  const getAnos = (value) => {\n    return fetchData({\n      endpoint: `${tipo}/marcas/${marca}/modelos/${value}/anos`\n    })\n  }\n\n  const getValor = (value) => {\n    return fetchData({\n      endpoint: `${tipo}/marcas/${marca}/modelos/${modelo}/anos/${value}`\n    })\n  }\n\n  const handleTipos = (e) => {\n    const { name, value } = e.target\n\n    if (value === '') {\n      setState(initialState)\n      return false\n    }\n\n    setState((state) => ({\n      ...state,\n      [name]: value,\n      isFetching: true,\n      error: ''\n    }))\n\n    getMarcas(value)\n      .then((response) => {\n        setState((state) => ({\n          ...state,\n          isFetching: false,\n          marcas: response\n        }))\n      })\n      .catch((error) => {\n        setState((state) => ({\n          ...state,\n          isFetching: false,\n          error: error.message\n        }))\n      })\n  }\n\n  const handleMarcas = (e) => {\n    const { name, value } = e.target\n\n    if (value === '') {\n      setState((state) => ({\n        ...state,\n        isFetching: false,\n        error: '',\n        marcas: [],\n        marca: '',\n        modelos: [],\n        modelo: '',\n        anos: [],\n        valor: {}\n      }))\n      return false\n    }\n\n    setState((state) => ({\n      ...state,\n      [name]: value,\n      isFetching: true,\n      error: ''\n    }))\n\n    getModelos(value)\n      .then((response) => {\n        setState((state) => ({\n          ...state,\n          isFetching: false,\n          modelos: response.modelos\n        }))\n      })\n      .catch((error) => {\n        setState((state) => ({\n          ...state,\n          isFetching: false,\n          error: error.message\n        }))\n      })\n  }\n\n  const handleModelos = (e) => {\n    const { name, value } = e.target\n\n    if (value === '') {\n      setState((state) => ({\n        ...state,\n        isFetching: false,\n        error: '',\n        modelos: [],\n        modelo: '',\n        anos: [],\n        valor: {}\n      }))\n      return false\n    }\n\n    setState((state) => ({\n      ...state,\n      [name]: value,\n      isFetching: true,\n      error: ''\n    }))\n\n    getAnos(value)\n      .then((response) => {\n        setState((state) => ({\n          ...state,\n          isFetching: false,\n          anos: response\n        }))\n      })\n      .catch((error) => {\n        setState((state) => ({\n          ...state,\n          isFetching: false,\n          error: error.message\n        }))\n      })\n  }\n\n  const handleAnos = (e) => {\n    const { value } = e.target\n\n    if (value === '') {\n      setState((state) => ({\n        ...state,\n        isFetching: false,\n        error: '',\n        anos: [],\n        valor: {}\n      }))\n      return false\n    }\n\n    setState((state) => ({\n      ...state,\n      isFetching: true,\n      error: ''\n    }))\n\n    getValor(value)\n      .then((response) => {\n        setState((state) => ({\n          ...state,\n          isFetching: false,\n          valor: response\n        }))\n      })\n      .catch((error) => {\n        setState((state) => ({\n          ...state,\n          isFetching: false,\n          error: error.message\n        }))\n      })\n  }\n\n  return (\n    <div className='App'>\n      <header className='App-header'>\n        {isFetching && <p>Loading...</p>}\n\n        {error && <p>{error}</p>}\n\n        <select name='tipo' onChange={handleTipos}>\n          <option value=''>Selecione</option>\n          <option value='carros'>Carros</option>\n          <option value='motos'>Motos</option>\n          <option value='caminhoes'>Caminh√µes</option>\n        </select>\n\n        {marcas.length > 0 && (\n          <select name='marca' onChange={handleMarcas}>\n            <option value=''>Marcas</option>\n            {marcas.map(({ nome, codigo }) => (\n              <option key={codigo} value={codigo}>\n                {nome}\n              </option>\n            ))}\n          </select>\n        )}\n\n        {modelos.length > 0 && (\n          <select name='modelo' onChange={handleModelos}>\n            <option value=''>Modelos</option>\n            {modelos.map(({ nome, codigo }) => (\n              <option key={codigo} value={codigo}>\n                {nome}\n              </option>\n            ))}\n          </select>\n        )}\n\n        {anos.length > 0 && (\n          <select name='ano' onChange={handleAnos}>\n            <option value=''>Anos</option>\n            {anos.map(({ nome, codigo }) => (\n              <option key={codigo} value={codigo}>\n                {nome}\n              </option>\n            ))}\n          </select>\n        )}\n\n        {Object.keys(valor).length > 0 && (\n          <code>{JSON.stringify(valor, null, 4)}</code>\n        )}\n      </header>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}